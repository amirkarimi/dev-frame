---
id: 200
title: «مرا به خاطر بسپار» در Scala و Play Framework
date: 2014-02-04T01:17:52+00:00
author: امیر کریمی
layout: post
guid: https://dev-frame.amirkarimi.me/?p=200
permalink: '/2014/02/%d9%85%d8%b1%d8%a7-%d8%a8%d9%87-%d8%ae%d8%a7%d8%b7%d8%b1-%d8%a8%d8%b3%d9%be%d8%a7%d8%b1-%d8%af%d8%b1-scala-play-framework/'
views:
  - "1421"
categories:
  - فناوری
tags:
  - Async
  - Play Framework
  - Scala
  - Securiy
  - اسکالا
  - امنیت
---
تقریباً همه کتابخانه‌های اعتبار سنجی از گزینه «مرا به خاطر بسپار» پشتیبانی می‌کنند.برای چارچوب Play (بر روی اسکالا) <a href="http://tersesystems.com/2012/07/07/remember-me-cookies-for-play-2-dot-0/" target="_blank">چندین پیاده‌سازی</a> در خصوص قسمت‌های مختلف اعتبار سنجی کاربران وجود دارد که هر کدام مزایا و معایب خودشان را دارند و البته بسیاری از آنها فوق‌العاده هستند. اما بخاطر اینکه هم بهتر اسکالا و Play و MongoDB را یاد بگیرم و هم بیشتر با Functional Programming آشنا شوم خودم دست به کار شدم برای پیاده‌سازی یک کتابخانه اعتبار سنجی که دارای مشخصات زیر است:

  1. پشتیبانی از «مرا به خاطر بسپار» با رعایت کامل <a href="http://fishbowl.pastiche.org/2004/01/19/persistent_login_cookie_best_practice/" target="_blank">اصول امنیتی</a> (نمی‌دانم ASP.NET Membership امنیت را تا این حد که در این مقاله گفته شده رعایت می‌کند یا نه)
  2. کاملاً غیر همزمان (Async)
  3. طراحی Role-based
  4. و &#8230;

کار خیلی سختی بود 🙁 پیاده‌سازی‌اش به همراه مطالعات و تحقیقات نزدیک ۶ ساعت (مفید) زمان برد و تقریباً کل روزم را گرفت.

بعضی اوقات احساس ترس می‌کنم از اینکه همزمان وارد این همه تکنلوژی جدید شدم. مخصوصاً وقتی همه چیز Async است و مثلاً برای گرفتن اطلاعات دو مجموعه (جدول) به هم وابسته از Mongo ممکن است کلی پیچیدگی به وجود بیاید. بعضی وقتها سر یک کوئری که قبلاً برایم خیلی ساده بود زمان زیادی صرف می‌کنم که بیشترش هم بخاطر Async بودن کار است. استفاده از Immutable ها هم که تا قبل از ورود به اسکالا هیچ چیزی در موردش نمی‌دانستم مزید بر علت شده.

اما در عوض؛

  1. هرچند نوشتن این کتابخانه‌ها بسیار سخت است ولی استفاده از آن‌ها بسیار ساده و لذت بخش است
  2. Performance کار بی نظیر است