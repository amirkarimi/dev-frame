---
id: 252
title: امنیت در PATH
date: 2014-02-26T10:53:48+00:00
author: امیر کریمی
layout: post
guid: https://dev-frame.amirkarimi.me/?p=252
permalink: '/2014/02/%d8%a7%d9%85%d9%86%db%8c%d8%aa-%d8%af%d8%b1-path/'
views:
  - "1180"
categories:
  - دسته‌بندی نشده
  - فناوری
tags:
  - Linux
  - Securiy
  - امنیت
  - لینوکس
---
وقتی می‌خواهیم در لینوکس یک برنامه یا اسکریپت که در فولدر جاری قرار دارد و البته از نوع قابل اجرا هم است (با دستور chmod +x) را اجرا کنیم،‌ بر خلاف ویندوز فقط نوشتن نام فایل اجرایی کافی نیست و باید پیشوند نقطه-اسلش (dot-slash) را به آن اضافه کنیم.

مثلاً اگر فایل اجرایی به نام my-script در فولدر جاری قرار دارد باید با دستور زیر اجرا شود:

<pre class="brush: bash; title: ; notranslate" title="">./my-script
</pre>

کارکتر نقطه تقریباً در همه سیستم عامل‌ها به معنی مسیر جاری است و اسلش هم کارکتر جدا کننده مسیر. پس عملاً مسیر بالا با مسیر زیر یکی است:

<pre class="brush: bash; title: ; notranslate" title="">my-script
</pre>

اما دلیل این پیشوند اضافه چیست؟

برای اجرای برنامه‌هایی که در مسیر‌های معرفی شده در PATH وجود دارند نیازی به درج نقطه-اسلش نیست. مثل دستور ls (همان DIR تحت داس) که در مسیر bin قرار دارد ولی چون مسیر bin در PATH معرفی شده، در هر مسیری که باشیم برای اجرای دستور ls فقط همین عبارت کافیست.

اگر خود نقطه-اسلش هم در PATH تعریف شود آنوقت می‌شود نقطه-اسلش را جا انداخت و فایل‌های اجرایی مسیر جاری را فقط با نامشان اجرا کرد. اما این از نظر امنیتی خوب نیست.

فرض کنید شما ادمین سیستم هستید و با دسترسی root وارد فولدر خانه کاربر دیگری شدید. آن کاربر یک فایل اجرایی به نام  sl را ساخته که کدی مخرب در آن قرار دارد. شما می‌خواهید دستور ls را تایپ کنید ولی اشتباهی sl را تایپ و اجرا می‌کنید. کد مخرب کاربر اجرا می‌شود.

از آن بدتر اینکه در صورتی که در PATH، اولویت مسیر نقطه-اسلش بالاتر از مسیر bin باشد، اگر کاربری که در فولدر خانه‌اش بودیم فایلی با نام ls درست کرده باشد و ما دستور ls را تایپ کنیم. فایل او اجرا می‌شود و به این ترتیب می‌تواند هر اسکریپتی را با بالاترین دسترسی بر روی سیستم اجرا کند.

<span style="line-height: 1.5em;">پس دقت کنید که در PATH شما مسیر نقطه-اسلش وجود نداشته باشد. با دستور زیر می‌توانید PATH را مشاهده کنید:</span>

<pre class="brush: bash; title: ; notranslate" title="">echo $PATH

</pre>

<span style="line-height: 1.5em;">منبع: </span><a style="line-height: 1.5em;" href="http://stackoverflow.com/questions/6331075/why-do-you-need-dot-slash-before-script-name-to-run-it-in-bash" target="_blank">http://stackoverflow.com/questions/6331075/why-do-you-need-dot-slash-before-script-name-to-run-it-in-bash</a>