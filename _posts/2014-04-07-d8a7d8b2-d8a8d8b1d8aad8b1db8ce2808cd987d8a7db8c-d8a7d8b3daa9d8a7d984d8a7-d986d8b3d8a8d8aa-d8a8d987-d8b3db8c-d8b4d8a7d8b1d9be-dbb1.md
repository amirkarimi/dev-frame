---
id: 363
title: 'از برتری‌های اسکالا نسبت به سی شارپ &#8211; ۱'
date: 2014-04-07T00:00:42+00:00
author: امیر کریمی
layout: post
guid: http://www.dev-frame.com/?p=363
permalink: '/2014/04/%d8%a7%d8%b2-%d8%a8%d8%b1%d8%aa%d8%b1%db%8c%e2%80%8c%d9%87%d8%a7%db%8c-%d8%a7%d8%b3%da%a9%d8%a7%d9%84%d8%a7-%d9%86%d8%b3%d8%a8%d8%aa-%d8%a8%d9%87-%d8%b3%db%8c-%d8%b4%d8%a7%d8%b1%d9%be-%db%b1/'
views:
  - "8954"
categories:
  - فناوری
tags:
  - 'C#'
  - Scala
  - اسکالا
  - سی شارپ
  - مقایسه
---
> حالا که همزمان بر روی یک پروژه‌ با زبان سی شارپ و یک پروژه دیگر با زبان اسکالا کار می‌کنم مقایسه این دو بیشتر خودش را نشان می‌دهد. سعی می‌کنم در یک سری پست این مقایسه‌ها که نشان دهنده برتری اسکالا است را معرفی کنم.

در واقع این مورد، برتری Function Programming است و همچنین نشان می‌دهد پشتیبانی از Lambda در یک زبان الزاماً به معنی پشتیبانی از Functional Programming در آن زبان نیست.

در سی شارپ وقتی بخواهیم یک خصیصه از یک شی را نمایش دهیم در حالی که مطمئن نیستیم آن شی Null است و در صورت Null بودن می‌خواهیم یک مقدار پیشفرض (مثل یک رشته خالی) را نمایش دهیم. به این صورت عمل می‌کنیم:

<pre class="brush: csharp; title: ; notranslate" title="">nullableObj == null ? "" : nullableObj.Property
</pre>

اما اگر آن شی با صدا زدن یک متد به دست بیاید باید به شکل زیر عمل کرد:

<pre class="brush: csharp; title: ; notranslate" title="">obj.GetSomething() == null ? "" : obj.GetSomething().Property
</pre>

که اغلب نمی‌خواهیم یک متد را دو بار صدا بزنیم پس باید آنرا در یک متغییر ذخیره و بعد استفاده کنیم که به شکل زیر در می‌آید:

<pre class="brush: csharp; title: ; notranslate" title="">var nullableObj = obj.GetSomething()
nullableObj == null ? "" : nullableObj.Property
</pre>

تصور کنید می‌خواهیم عبارت بالا را در یک Razor View درج کنیم. چون یک انتصاب به متغییر وجود دارد، کار سخت می‌شود:

<pre class="brush: plain; title: ; notranslate" title="">@{
var nullableObj = Model.GetSomething()
}

...

@(nullableObj == null ? "" : nullableObj.Property)
</pre>

اما در اسکالا یک نوع وجود دارد به نام <a href="http://www.scala-lang.org/files/archive/api/current/#scala.Option" target="_blank">Option</a> که وقتی قرار است یک شی تهی باشد پیشنهاد می‌شود از این نوع استفاده شود. مثلاً اگر بین رشته خالی و تهی تفاوت قائل هستید باید از نوع `Option[String]` استفاده کنید (در اسکالا برای معرفی نوع‌های Generic به جای کارکتر‌های <> از [] استفاده می‌شود مثلا در سی شارپ داریم `Type1<Type2>` در حالی که معادل آن در اسکالا می‌شود `Type1[Type2]`). Option تقریبا معادل Nullable در سی شارپ است.

با استفاده از Option، عبارت بالا به شکل زیر در اسکالا نوشته می‌شود:

<pre class="brush: scala; title: ; notranslate" title="">obj.getSomething.map(_.property).getOrElse("")
</pre>

همین عبارت را می‌توان در View Template پیشفرض Play استفاده کرد و مثل سی شارپ نیازی به انتصاب یک متغییر اضافی نیست.

این عبارت را می‌توان به شکل‌های مختلف دیگری هم نوشت و البته دفعه اول که کد‌های شبیه این را می‌دیدم فکر می‌کردم سخت و ناخواناست ولی به هر شکل آن که عادت کنید دیگر نوشتن کد با زبان‌هایی مثل سی شارپ واقعاً سخت می‌شود. الان وقتی روی سی شارپ کد می‌زنم احساس می‌کنم از ویندوز ۷ به ویندوز XP مهاجرت کردم. یک حس نوستالژیک دارم ولی انگار دست و پایم را بسته‌اند!

نکته بسیار مهم اینکه این ویژگی در کتابخانه استاندارد اسکالا تعریف شده و فقط ویژگی زبان نیست. زبان اسکالا طوری طراحی شده که به راحتی بتوان ویژگی‌های جدید به آن اضافه کرد (که البته یک شمشیر دو لبه است).